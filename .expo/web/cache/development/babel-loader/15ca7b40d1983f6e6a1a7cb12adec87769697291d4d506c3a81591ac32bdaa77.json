{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState } from \"react\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport { SessionContext } from \"../Context/Context\";\nimport { signIn } from \"../utils/api\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport { Link } from \"@react-navigation/native\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function SignIn(_ref) {\n  var navigation = _ref.navigation;\n  var _useState = useState(\"\"),\n    _useState2 = _slicedToArray(_useState, 2),\n    username = _useState2[0],\n    setUsername = _useState2[1];\n  var _useState3 = useState(\"\"),\n    _useState4 = _slicedToArray(_useState3, 2),\n    password = _useState4[0],\n    setPassword = _useState4[1];\n  var _useState5 = useState(\"\"),\n    _useState6 = _slicedToArray(_useState5, 2),\n    errorMessage = _useState6[0],\n    setErrorMessage = _useState6[1];\n  function onSignIn(setSession) {\n    signIn(username, password).then(function (token) {\n      var val = {\n        token: token,\n        username: username\n      };\n      console.log(val);\n      setSession(val);\n      setErrorMessage(\"\");\n    }).catch(function (err) {\n      return setErrorMessage(err.message);\n    });\n  }\n  return _jsx(SessionContext.Consumer, {\n    children: function children(_ref2) {\n      var _ref3 = _slicedToArray(_ref2, 2),\n        session = _ref3[0],\n        setSession = _ref3[1];\n      return _jsx(View, {\n        style: styles.main,\n        children: _jsxs(View, {\n          style: styles.card,\n          children: [_jsx(Image, {\n            source: require(\"../assets/to-do.png\"),\n            style: {\n              height: 75,\n              width: 75\n            }\n          }), _jsx(Text, {\n            style: styles.header,\n            children: \" Se connecter \"\n          }), _jsx(Text, {\n            style: styles.label,\n            children: \" Utilisateur\"\n          }), _jsx(TextInput, {\n            style: styles.input,\n            value: username,\n            onChangeText: function onChangeText(value) {\n              setUsername(value);\n            }\n          }), _jsx(Text, {\n            style: styles.label,\n            children: \"Mot de passe\"\n          }), _jsx(TextInput, {\n            style: styles.input,\n            value: password,\n            secureTextEntry: true,\n            onChangeText: function onChangeText(value) {\n              setPassword(value);\n            }\n          }), errorMessage ? _jsxs(Text, {\n            style: styles.error,\n            children: [\" \", errorMessage]\n          }) : null, _jsxs(View, {\n            style: styles.btnSubmit,\n            children: [_jsx(Button, {\n              onPress: function onPress() {\n                return onSignIn(setSession);\n              },\n              title: \"Se connecter\"\n            }), _jsxs(Text, {\n              style: styles.label,\n              children: [\" \", \"Vous ne possedez pas encore de compte ?\", _jsxs(Link, {\n                style: {\n                  color: \"blue\"\n                },\n                to: {\n                  screen: \"SignUp\"\n                },\n                children: [\" \", \"Inscrivez-vous\"]\n              })]\n            })]\n          })]\n        })\n      });\n    }\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#003f5c',\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  main: {\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    flex: 1,\n    backgroundColor: \"#F2F2F2\"\n  },\n  input: {\n    padding: 10,\n    fontSize: 16,\n    borderWidth: 1,\n    borderColor: \"#ccc\",\n    borderRadius: 4,\n    marginBottom: 10\n  },\n  label: {\n    marginVertical: 10\n  },\n  btnSubmit: {\n    marginTop: 10\n  },\n  error: {\n    color: \"red\",\n    marginVertical: 10\n  },\n  inputView: {\n    width: \"80%\",\n    backgroundColor: \"#465881\",\n    borderRadius: 25,\n    height: 70,\n    marginBottom: 20,\n    marginLeft: 40,\n    marginRight: 40,\n    justifyContent: \"center\",\n    padding: 20\n  },\n  card: {\n    width: \"30%\",\n    height: \"50%\",\n    backgroundColor: \"white\",\n    paddingVertical: 30,\n    paddingHorizontal: 30,\n    textAlign: \"center\",\n    borderRadius: 10\n  },\n  header: {\n    fontSize: 20,\n    fontWeight: \"600\",\n    marginVertical: 15\n  },\n  title: {\n    fontSize: 25,\n    fontWeight: \"600\",\n    marginBottom: 25\n  }\n});","map":{"version":3,"names":["React","useState","TextInput","View","StyleSheet","Text","Button","Image","SessionContext","signIn","TouchableOpacity","Link","jsx","_jsx","jsxs","_jsxs","SignIn","_ref","navigation","_useState","_useState2","_slicedToArray","username","setUsername","_useState3","_useState4","password","setPassword","_useState5","_useState6","errorMessage","setErrorMessage","onSignIn","setSession","then","token","val","console","log","catch","err","message","Consumer","children","_ref2","_ref3","session","style","styles","main","card","source","require","height","width","header","label","input","value","onChangeText","secureTextEntry","error","btnSubmit","onPress","title","color","to","screen","create","container","flex","backgroundColor","alignItems","justifyContent","padding","fontSize","borderWidth","borderColor","borderRadius","marginBottom","marginVertical","marginTop","inputView","marginLeft","marginRight","paddingVertical","paddingHorizontal","textAlign","fontWeight"],"sources":["/home/21901741/Documents/blank_sans_md/Components/SignIn.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { TextInput, View, StyleSheet, Text, Button, Image } from \"react-native\";\nimport { SessionContext } from \"../Context/Context\";\nimport { signIn } from \"../utils/api\";\nimport { TouchableOpacity } from \"react-native-web\";\nimport { Link } from \"@react-navigation/native\";\n\nexport default function SignIn({ navigation }) {\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [errorMessage, setErrorMessage] = useState(\"\");\n\n  function onSignIn(setSession) {\n    signIn(username, password)\n      .then((token) => {\n        let val = {\n          token,\n          username,\n        };\n        console.log(val);\n        setSession(val);\n        setErrorMessage(\"\");\n      })\n      .catch((err) => setErrorMessage(err.message));\n  }\n\n  return (\n    <SessionContext.Consumer>\n      {([session, setSession]) => {\n        return (\n          <View style={styles.main}>\n            <View style={styles.card}>\n            <Image\n              source={require(\"../assets/to-do.png\")}\n              style={{ height: 75, width: 75}}\n            />\n              <Text style={styles.header}> Se connecter </Text>\n              <Text style={styles.label}> Utilisateur</Text>\n            <TextInput\n              style={styles.input}\n              value={username}\n              onChangeText={(value) => {\n                setUsername(value);\n              }}\n            />\n\n            <Text style={styles.label}>Mot de passe</Text>\n            <TextInput\n              style={styles.input}\n              value={password}\n              secureTextEntry={true}\n              onChangeText={(value) => {\n                setPassword(value);\n              }}\n            />\n            {errorMessage ? (\n              <Text style={styles.error}> {errorMessage}</Text>\n            ) : null}\n            <View style={styles.btnSubmit}>\n              <Button onPress={() => onSignIn(setSession)} title=\"Se connecter\" />\n              <Text style={styles.label}>\n                {\" \"}\n                Vous ne possedez pas encore de compte ?\n                <Link style={{ color: \"blue\" }} to={{ screen: \"SignUp\" }}>\n                  {\" \"}\n                  Inscrivez-vous\n                </Link>\n              </Text>\n            </View>\n            </View>\n          </View>\n        );\n      }}\n    </SessionContext.Consumer>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#003f5c',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n\n\n  main: {\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    flex:1,\n    backgroundColor: \"#F2F2F2\"\n  },\n  input: {\n    padding: 10,\n    fontSize: 16,\n    borderWidth: 1,\n    borderColor: \"#ccc\",\n    borderRadius: 4,\n    marginBottom: 10\n  },\n  label: {\n    marginVertical: 10,\n  },\n  btnSubmit: {\n    marginTop: 10,\n  },\n  error: {\n    color: \"red\",\n    marginVertical: 10,\n  },\n\n  inputView:{\n    width:\"80%\",\n    backgroundColor:\"#465881\",\n    borderRadius:25,\n    height:70,\n    marginBottom:20,\n    marginLeft: 40,\n    marginRight: 40,\n    justifyContent:\"center\",\n    padding:20\n  },\n\n  card: {\n    width: \"30%\",\n    height: \"50%\",\n    backgroundColor: \"white\",\n    paddingVertical: 30,\n    paddingHorizontal: 30,\n    textAlign: \"center\",\n    borderRadius: 10,\n  },\n\n  header: {\n    fontSize: 20,\n    fontWeight: \"600\",\n    marginVertical: 15,\n  },\n\n  title: {\n    fontSize: 25,\n    fontWeight: \"600\",\n    marginBottom: 25,\n  },\n\n\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}